logger:
    class_name: crlapi.logger.TFLogger
    log_dir: ./tmp_budget
    verbose: False
    cache_size: 10000
    modulo: 1

seed: 432
stream:
    train:
        class_name: crlapi.sl.streams.mnist.MNISTTrainAnytimeStream
        n_megabatches: 10
        seed: ${seed}
        directory: /Users/denoyer/workspace/.data
    evaluation:
        class_name: crlapi.sl.streams.mnist.MNISTEvaluationAnytimeStream
        n_megabatches: 1
        seed: ${seed}
        directory: /Users/denoyer/workspace/.data

clmodel:
    class_name: crlapi.sl.clmodels.finetune.Finetune
    cache_dl: True
    validation_proportion: 0.1
    training_batch_size: 64
    training_num_workers: 2
    validation_batch_size: 64
    validation_num_workers: 2
    grow_every: 2
    max_epochs: 10
    device: cpu

    optim:
        class_name: torch.optim.Adam
        lr: 0.01

    model:
        class_name: crlapi.sl.architectures.mlpmixer.MLPMixer
        patch_size: 4
        dim: 64
        depth: 3
        expansion_factor: 4
        dropout: 0.0

        # class_name: crlapi.sl.architectures.mlpmixer.MoE_MLPMixer
        # patch_size: 4
        # dim: 64
        # depth: 3
        # expansion_factor: 4
        # dropout: 0.0
        # n_experts: 2
        # is_hard: False


evaluation:
    mode: previous_tasks
    batch_size: 64
    num_workers: 2
    device: cpu
